import smbus
import time

# Initialize I2C
bus = smbus.SMBus(1)
camera_address = 0x21  # OV7670 default I2C address

# Function to read from the camera registers
def read_camera_register(reg_address):
    try:
        return bus.read_byte_data(camera_address, reg_address)
    except Exception as e:
        print(f"Error reading from camera register: {e}")
        return None

# Test I2C Communication
def test_camera():
    # Register 0x0A is just an example, it may vary depending on the camera configuration
    reg_address = 0x0A
    value = read_camera_register(reg_address)
    
    if value is not None:
        print(f"Register {hex(reg_address)}: {hex(value)}")
    else:
        print("Failed to read from camera register")

# Run the test
test_camera()
